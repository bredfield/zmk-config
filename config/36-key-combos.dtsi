/*                KEY POSITIONS

  ╭────────────────────╮ ╭────────────────────╮
  │  0   1   2   3   4 │ │  5   6   7   8   9 │
  │ 10  11  12  13  14 │ │ 15  16  17  18  19 │
  │ 20  21  22  23  24 │ │ 25  26  27  28  29 │
  ╰───────────╮ 30  31 │ │ 32  33 ╭───────────╯
              ╰────────╯ ╰────────╯            */

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM) \
        combo_##NAME { \
            timeout-ms = <TERM>; \
            bindings = <BINDINGS>; \
            key-positions = <KEYPOS>; \
            layers = <LAYERS>; \
        };

#define COMBO_TERM_NORMAL 20
#define COMBO_TERM_SLOW 50

/ {
  combos {
    compatible = "zmk,combos";

    // functions + clipboard + history
    COMBO(repeat,   &key_repeat,  1 3,   MAIN ALT SYM NAV, COMBO_TERM_SLOW)   // h ,
    COMBO(capsword, &caps_word,   13 16, MAIN ALT SYM NAV, COMBO_TERM_SLOW)   // t n       
    COMBO(cut,      U_CUT,        11 21, MAIN ALT SYM NAV, COMBO_TERM_SLOW)   // r x
    COMBO(copy,     U_CPY,        12 22, MAIN ALT SYM NAV, COMBO_TERM_SLOW)   // s c
    COMBO(paste,    U_PST,        13 23, MAIN ALT SYM NAV, COMBO_TERM_SLOW)   // t d 
  
    // common symbols
    COMBO(dqt,      &kp DQT,      1 2,   MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // w f
    COMBO(hash,     &kp HASH,     22 23, MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // w f
    COMBO(at,       &kp AT,       2 3,   MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // v c
    COMBO(qmark,    &kp QMARK,    6 7,   MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // u y
    COMBO(colon,    &kp COLON,    16 26, MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // n h
    COMBO(semi,     &kp SEMI,     17 27, MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // , e
    COMBO(plus,     &kp PLUS,     26 27, MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // h ,
    COMBO(excl,     &kp EXCL,     26 27, MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // l u
    COMBO(slash,    &kp SLASH,    7 8,   MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // , .
 
    // brackets 
    COMBO(lbkt,     &kp LBKT,     1 11,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // w r
    COMBO(lpar,     &kp LPAR,     2 12,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // p t
    COMBO(lbrc,     &kp LBRC,     3 13,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // s f
    COMBO(rbrc,     &kp RBRC,     6 16,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // u e
    COMBO(rpar,     &kp RPAR,     7 17,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // l n
    COMBO(rbkt,     &kp RBKT,     8 18,  MAIN ALT SYM NAV, COMBO_TERM_NORMAL) // y i
  };
};
